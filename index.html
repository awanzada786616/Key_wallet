<!doctype html>
<html lang="ur" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>script zone by wasi</title>

  <!-- Font Awesome (icons) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#06b6d4;
      --muted:#94a3b8;
      --glass: rgba(255,255,255,0.03);
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071124 0%,#0b1530 100%);color:#e6eef6}
    .container{max-width:980px;margin:28px auto;padding:20px;}
    header{
      display:flex;align-items:center;justify-content:space-between;
      gap:12px;margin-bottom:18px;
    }
    .brand{
      display:flex;gap:12px;align-items:center;
    }
    .logo{
      width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#7c3aed);
      display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;box-shadow:0 6px 18px rgba(2,6,23,0.6)
    }
    .brand h1{margin:0;font-size:20px}
    .brand p{margin:0;font-size:12px;color:var(--muted)}
    /* three-dot menu */
    .menu-wrap{position:relative;}
    .menu-btn{background:transparent;border:0;color:var(--muted);font-size:22px;cursor:pointer;padding:8px;border-radius:8px}
    .menu-card{
      position:absolute;right:0;top:44px;background:var(--card);backdrop-filter:blur(6px);
      border-radius:10px;padding:12px;width:260px;box-shadow:0 8px 30px rgba(2,6,23,0.6);display:none;
    }
    .menu-card.visible{display:block;}
    .menu-card h3{margin:0 0 8px 0;font-size:14px}
    .menu-card p{margin:6px 0;color:var(--muted);font-size:13px;line-height:1.45}
    .menu-card .close{display:flex;justify-content:flex-end;margin-top:8px}
    .btn{
      background:linear-gradient(90deg,var(--accent),#7c3aed);border:0;color:#04111a;padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:600
    }

    /* Main card for script */
    .card{background:var(--glass);padding:18px;border-radius:14px;box-shadow:0 6px 20px rgba(3,7,18,0.6);display:flex;gap:16px;align-items:center}
    .thumb{width:220px;height:140px;border-radius:10px;background:#071428;flex-shrink:0;display:flex;align-items:center;justify-content:center;overflow:hidden}
    .thumb img{width:100%;height:100%;object-fit:cover}
    .meta{flex:1;}
    .meta h2{margin:0 0 6px 0;font-size:20px;display:flex;gap:8px;align-items:center}
    .meta p.desc{color:var(--muted);margin:6px 0 12px 0}
    .price-row{display:flex;align-items:center;gap:12px}
    .price{font-size:18px;font-weight:700}
    .icon-label{display:inline-flex;gap:6px;align-items:center;color:var(--muted);font-size:13px}

    /* order button */
    .order-btn{display:inline-flex;gap:10px;align-items:center;padding:10px 14px;border-radius:10px;border:2px solid rgba(255,255,255,0.06);cursor:pointer;background:transparent;color:var(--accent);font-weight:700;text-decoration:none}
    .order-btn .fa-arrow-up-right-from-square{transform:translateY(-1px)}

    /* info row */
    .info-row{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
    .chip{background:rgba(255,255,255,0.02);padding:8px 10px;border-radius:999px;font-size:13px;color:var(--muted);display:inline-flex;gap:8px;align-items:center}

    /* footer */
    footer{text-align:center;margin-top:26px;color:var(--muted);font-size:13px;padding:16px 0}
    footer strong{color:var(--accent)}

    /* responsive */
    @media (max-width:700px){
      .card{flex-direction:column;align-items:stretch}
      .thumb{width:100%;height:220px}
      header{flex-direction:column;align-items:flex-start;gap:12px}
      .menu-card{left:0;right:auto}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo"><i class="fa-solid fa-code"></i></div>
        <div>
          <h1>script zone by wasi</h1>
          <p>Script Hub • Frontend Showcase</p>
        </div>
      </div>

      <div class="menu-wrap" aria-label="menu">
        <!-- three dot menu button -->
        <button class="menu-btn" id="menuBtn" title="menu">
          <i class="fa-solid fa-ellipsis-vertical"></i>
        </button>

        <!-- dropdown content -->
        <div class="menu-card" id="menuCard" role="dialog" aria-hidden="true">
          <h3><i class="fa-solid fa-circle-info"></i> why you choose us</h3>
          <p>
            ہم قابلِ اعتماد سروس دیتے ہیں — تیز سپورٹ، آزمودہ سکرپٹس، اور گارنٹیڈ اپ ٹائم۔<br>
            <span class="icon-label"><i class="fa-solid fa-shield-halved"></i> محفوظ اور ریلیائبل</span>
          </p>
          <p>
            ہماری ویب سائٹ آپ کی ضرورت کو سمجھتی ہے: آسان آرڈر، شفاف قیمتیں، اور مستقل اپڈیٹس۔
            <br><span class="icon-label"><i class="fa-solid fa-thumbs-up"></i> یوزر فرینڈلی تجربہ</span>
          </p>
          <div class="close">
            <button class="btn" id="closeMenu"><i class="fa-solid fa-xmark"></i> بند کریں</button>
          </div>
        </div>
      </div>
    </header>

    <!-- Main script card / section -->
    <section id="scripts">
      <div class="card" role="region" aria-labelledby="scriptTitle">
        <div class="thumb" aria-hidden="false">
          <!-- Replace the image src with your direct image link -->
          <img src="https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder" alt="climitive image (replace with your direct link)">
        </div>

        <div class="meta">
          <h2 id="scriptTitle"><i class="fa-solid fa-file-code"></i> climitive</h2>
          <p class="desc"><i class="fa-solid fa-info-circle"></i> SMM panel script — frontend showcase. Replace description as needed.</p>

          <div class="price-row">
            <div class="price"><i class="fa-solid fa-dollar-sign"></i> <span>₨ 2,500</span></div>
            <div class="icon-label"><i class="fa-solid fa-tag"></i> <span>Script name: climitive</span></div>
          </div>

          <div class="info-row">
            <div class="chip"><i class="fa-brands fa-instagram"></i> <!-- Instagram link placeholder --> <a href="#" style="color:inherit;text-decoration:none;margin-right:6px">Our (Instagram)</a></div>
            <div class="chip"><i class="fa-solid fa-wrench"></i> Frontend only</div>
            <div class="chip"><i class="fa-solid fa-shield"></i> Reliable</div>
          </div>

          <div style="margin-top:14px;">
            <!-- Order button opens tiktok.com as requested -->
            <a class="order-btn" href="https://www.tiktok.com" target="_blank" rel="noopener noreferrer">
              <i class="fa-solid fa-cart-shopping"></i> Order
              <i class="fa-solid fa-arrow-up-right-from-square" style="margin-inline-start:8px"></i>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Additional scripts or list can be added here -->
    <p style="margin-top:16px;color:var(--muted);font-size:13px">
      <!-- Every icon used as requested (Font Awesome) -->
      <i class="fa-solid fa-circle-check"></i> Har cheez ka sath <i class="fa-solid fa-star"></i> faf icon lagaya gaya hai.
    </p>

    <footer>
      <div>all right reserved <strong>script hub by wasi</strong></div>
    </footer>
  </div>

  <script>
    // Menu toggle
    const menuBtn = document.getElementById('menuBtn');
    const menuCard = document.getElementById('menuCard');
    const closeMenu = document.getElementById('closeMenu');

    function toggleMenu(){
      menuCard.classList.toggle('visible');
      const visible = menuCard.classList.contains('visible');
      menuCard.setAttribute('aria-hidden', (!visible).toString());
    }

    menuBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      toggleMenu();
    });
    closeMenu.addEventListener('click', () => toggleMenu());

    // close when clicking outside
    document.addEventListener('click', (e) => {
      if(menuCard.classList.contains('visible')){
        if(!menuCard.contains(e.target) && e.target !== menuBtn){
          toggleMenu();
        }
      }
    });

    // Accessibility: close on Escape
    document.addEventListener('keydown', (ev) => {
      if(ev.key === 'Escape' && menuCard.classList.contains('visible')){
        toggleMenu();
        menuBtn.focus();
      }
    });
  </script>
</body>
</html>e text-lg leading-relaxed"
                                placeholder="Generate an image of a smiling corgi astronaut on the moon, cinematic lighting, photorealistic, 4K resolution"
                            ></textarea>
                        </div>
                    </div>
                    
                    <!-- Generate Section -->
                    <div class="flex flex-col justify-center">
                        <button
                            id="gen"
                            class="btn-premium w-full py-6 rounded-2xl text-white font-semibold text-lg tracking-wide focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed"
                        >
                            ✨ Generate Image
                        </button>
                        
                        <div class="mt-6 p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20">
                            <p class="text-emerald-300 text-sm flex items-start">
                                <span class="mr-2 mt-0.5">✅</span>
                                <span>API secured on server. Ready to generate!</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Loading State - Hidden by default since we'll use modal -->
            <div id="loading" class="hidden"></div>
            
            <!-- Results Section -->
            <div id="results-section" class="hidden fade-in-up stagger-2">
                <div class="flex items-center justify-between mb-8">
                    <h2 class="text-3xl font-bold text-gray-100">Your Creations</h2>
                    <div class="text-sm text-gray-400" id="generation-info"></div>
                </div>
                <div id="images" class="masonry-grid"></div>
            </div>
        </div>
    </main>
    
    <script>
        // Frontend only calls our secure PHP endpoint
        const endpoint = "https://bdtools.top/api/generate.php";
        
        // Enhanced loading modal
        function showLoadingModal(message) {
            const existing = document.getElementById('loading-modal');
            if (existing) existing.remove();
            
            const modal = document.createElement('div');
            modal.id = 'loading-modal';
            modal.className = 'fixed inset-0 z-50 flex items-center justify-center modal-premium';
            
            modal.innerHTML = `
                <div class="modal-content rounded-3xl p-12 max-w-sm mx-4 text-center">
                    <div class="loader-premium mx-auto mb-6"></div>
                    <h3 class="text-2xl font-semibold text-gray-200 mb-4">${message}</h3>
                    <p class="text-gray-400">Please wait...</p>
                </div>
            `;
            
            document.body.appendChild(modal);
            return modal;
        }
        
        // Remove loading modal
        function hideLoadingModal() {
            const modal = document.getElementById('loading-modal');
            if (modal) modal.remove();
        }
        
        // Enhanced alert modal
        function showAlert(message, type = 'info') {
            const existing = document.getElementById('alert-modal');
            if (existing) existing.remove();
            
            const modal = document.createElement('div');
            modal.id = 'alert-modal';
            modal.className = 'fixed inset-0 z-50 flex items-center justify-center modal-premium';
            
            const iconMap = {
                error: '❌',
                success: '✅', 
                warning: '⚠️',
                info: 'ℹ️'
            };
            
            modal.innerHTML = `
                <div class="modal-content rounded-3xl p-8 max-w-md mx-4 text-center transform transition-all duration-300 scale-95 opacity-0">
                    <div class="text-4xl mb-4">${iconMap[type]}</div>
                    <p class="text-gray-100 text-lg mb-6 leading-relaxed">${message}</p>
                    <button onclick="this.closest('#alert-modal').remove()" 
                            class="btn-premium px-8 py-3 rounded-xl font-medium">
                        OK
                    </button>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            requestAnimationFrame(() => {
                const content = modal.querySelector('.modal-content');
                content.style.transform = 'scale(1)';
                content.style.opacity = '1';
            });
            
            if (type !== 'error') {
                setTimeout(() => {
                    if (modal.parentNode) modal.remove();
                }, 5000);
            }
        }
        
        // Generate button handler
        document.getElementById('gen').addEventListener('click', async () => {
            const prompt = document.getElementById('prompt').value.trim();
            
            if (!prompt) {
                showAlert('Please enter a prompt', 'warning');
                return;
            }
            
            const btn = document.getElementById('gen');
            const resultsSection = document.getElementById('results-section');
            const imagesDiv = document.getElementById('images');
            const generationInfo = document.getElementById('generation-info');
            
            const loadingModal = showLoadingModal('Generating image...');
            
            btn.disabled = true;
            btn.textContent = '⏳ Generating...';
            resultsSection.classList.add('hidden');
            imagesDiv.innerHTML = '';
            
            try {
                const startTime = Date.now();
                
                const response = await fetch(endpoint, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prompt: prompt
                    })
                });
                
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error || `API Error ${response.status}`);
                }
                
                const data = await response.json();
                
                if (!data.success) {
                    throw new Error(data.message || 'Generation failed');
                }
                
                const duration = ((Date.now() - startTime) / 1000).toFixed(1);
                
                if (data.images && data.images.length > 0) {
                    generationInfo.textContent = `${data.images.length} images generated • ${duration}s`;
                    
                    data.images.forEach((imageData, index) => {
                        const card = document.createElement('div');
                        card.className = 'image-gallery-item premium-card rounded-3xl p-4';
                        
                        card.innerHTML = `
                            <div class="relative">
                                <img src="${imageData}" 
                                     alt="${prompt}" 
                                     class="w-full h-auto rounded-2xl" />
                            </div>
                            <div class="mt-4 space-y-3">
                                <div class="flex items-center justify-between text-sm">
                                    <span class="text-gray-300">Image #${index + 1}</span>
                                    <span class="text-gray-500">${new Date().toLocaleTimeString()}</span>
                                </div>
                                <p class="text-gray-400 text-sm leading-relaxed">${prompt}</p>
                            </div>
                        `;
                        
                        imagesDiv.appendChild(card);
                    });
                    
                    resultsSection.classList.remove('hidden');
                    showAlert(`${data.images.length} images generated successfully!`, 'success');
                } else {
                    imagesDiv.innerHTML = `
                        <div class="col-span-full premium-card rounded-3xl p-12 text-center">
                            <div class="text-6xl mb-4">🤖</div>
                            <h3 class="text-2xl font-semibold text-gray-200 mb-2">No images generated</h3>
                            <p class="text-gray-400">Include "Generate an image" in your prompt</p>
                        </div>
                    `;
                    resultsSection.classList.remove('hidden');
                }
                
            } catch (error) {
                console.error('Generation failed:', error);
                showAlert(`Error: ${error.message}`, 'error');
            } finally {
                btn.disabled = false;
                btn.textContent = '✨ Generate Image';
                hideLoadingModal();
            }
        });
        
        // Keyboard shortcut: Ctrl/Cmd + Enter
        document.addEventListener('keydown', (e) => {
            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                e.preventDefault();
                document.getElementById('gen').click();
            }
        });
        
        // Auto-resize textarea
        const textarea = document.getElementById('prompt');
        textarea.addEventListener('input', () => {
            textarea.style.height = 'auto';
            textarea.style.height = textarea.scrollHeight + 'px';
        });
    </script>
</body>
</html>

<!doctype html>
<html lang="ur">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Iframe Player — Play / Pause</title>

  <!-- Font Awesome (icons) -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-p1CmK4X2X/4z2k1q5Z0k3Kwl0QZlKq2qg1k6B8YxH1m9ZV+e5x1P1vU6q3h2b9Y7K3E6Q9q1Yq2xKq2YQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    /* Simple, clean UI */
    :root{
      --bg: #0f1724;
      --card: #0b1220;
      --accent: #06b6d4;
      --muted: #94a3b8;
      --radius: 12px;
    }
    html,body{height:100%;margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
    body{
      background: linear-gradient(180deg,#071021 0%, #07192a 100%);
      color:#e6eef6;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px;
      box-sizing:border-box;
    }

    .player-card{
      width:100%;
      max-width:980px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.04);
      border-radius:var(--radius);
      padding:14px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
    }

    .frame-wrap{
      position:relative;
      border-radius:10px;
      overflow:hidden;
      background:#000;
      min-height:420px;
    }

    iframe{
      width:100%;
      height:520px;
      border:0;
      display:block;
      background: #000;
      min-height:420px;
    }

    .controls{
      display:flex;
      gap:10px;
      align-items:center;
      margin-top:12px;
    }

    .btn{
      appearance:none;border:0;padding:10px 14px;border-radius:10px;
      cursor:pointer;font-size:18px;
      display:inline-flex;align-items:center;gap:8px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      color:var(--accent);
      box-shadow: 0 6px 18px rgba(2,6,23,0.6);
    }
    .btn.secondary{ color:var(--muted); font-size:15px; padding:9px 12px; }
    .status{
      margin-left:auto;color:var(--muted); font-size:14px;
    }

    .overlay {
      position:absolute; inset:0; display:flex;align-items:center;justify-content:center;
      background: linear-gradient(to bottom, rgba(2,6,23,0.5), rgba(2,6,23,0.65));
      color:#fff; font-size:16px; text-align:center; padding:18px;
      backdrop-filter: blur(2px);
    }

    .hidden{ display:none; }
    .hint{ color:var(--muted); font-size:13px; margin-top:8px; }
    /* small screens */
    @media (max-width:600px){
      iframe{height:360px;}
    }
  </style>
</head>
<body>
  <div class="player-card" role="region" aria-label="Iframe player with play/pause">
    <h3 style="margin:0 0 8px 0;font-weight:600;">Embedded Link Player</h3>
    <div class="frame-wrap" id="frameWrap">
      <!-- IFRAME: start without src (paused state) -->
      <iframe id="playerFrame" sandbox="allow-same-origin allow-scripts allow-popups allow-forms" src="about:blank" title="Embedded content"></iframe>

      <!-- overlay shown while loading / if blocked -->
      <div id="overlay" class="overlay">
        <div>
          <div id="overlayText">Press play to load the link.</div>
          <div class="hint" style="margin-top:8px;">Note: agar site iframe allow nahi karti to yahan blank ya error aa sakta hai — neeche fallback message dekhain.</div>
        </div>
      </div>
    </div>

    <div class="controls" style="margin-top:12px;">
      <button id="playBtn" class="btn" aria-pressed="false" title="Play">
        <i class="fa-solid fa-play"></i> Play
      </button>

      <button id="pauseBtn" class="btn secondary" aria-pressed="true" title="Pause">
        <i class="fa-solid fa-pause"></i> Pause
      </button>

      <button id="reloadBtn" class="btn secondary" title="Reload">
        <i class="fa-solid fa-arrows-rotate"></i> Reload
      </button>

      <div class="status" id="statusText">Status: Paused</div>
    </div>

    <div id="fallback" class="hint" style="display:none; margin-top:10px; color:#ffcccb;">
      Fallback: Yeh site iframe mein embed hone se rok sakti hai. Agar aapko content dikhna zaroori hai to direct link kholen: <a id="directLink" href="#" target="_blank" rel="noopener noreferrer" style="color: #9be7ff;">Open in new tab</a>
    </div>
  </div>

  <script>
    // -------------------------
    // Configuration (change only this line)
    // -------------------------
    const TARGET_URL = "https://1024terabox.com/s/1rnKipGT63Eb5Jz7Bq6NOYw";
    // -------------------------

    const iframe = document.getElementById('playerFrame');
    const playBtn = document.getElementById('playBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const reloadBtn = document.getElementById('reloadBtn');
    const overlay = document.getElementById('overlay');
    const overlayText = document.getElementById('overlayText');
    const statusText = document.getElementById('statusText');
    const fallback = document.getElementById('fallback');
    const directLink = document.getElementById('directLink');

    directLink.href = TARGET_URL;
    directLink.textContent = TARGET_URL;

    let isPlaying = false;
    let loadTimer = null;

    function setStatus(txt){
      statusText.textContent = "Status: " + txt;
    }

    function showOverlay(msg){
      overlay.classList.remove('hidden');
      overlayText.textContent = msg;
    }
    function hideOverlay(){
      overlay.classList.add('hidden');
    }

    // Play: set iframe src (load)
    function play(){
      if(isPlaying) return;
      isPlaying = true;
      playBtn.setAttribute('aria-pressed','true');
      pauseBtn.setAttribute('aria-pressed','false');
      setStatus('Loading...');
      showOverlay('Loading content — please wait...');
      // set src to start loading
      iframe.src = TARGET_URL;

      // We can't read iframe's cross-origin content to detect X-Frame-Options.
      // But we can use onload + a timeout: if onload fires we assume success; if timeout reached, show fallback.
      clearTimeout(loadTimer);
      loadTimer = setTimeout(() => {
        // if still loading after 6s, show fallback suggestion (could be slow or blocked)
        showOverlay('Loading is taking longer than expected. The site might prevent embedding. Try "Open in new tab".');
        fallback.style.display = 'block';
        setStatus('Loaded? (possible embed block)');
      }, 6000);
    }

    // Pause: unload iframe by blanking src (this "pauses" network/activity)
    function pause(){
      if(!isPlaying) return;
      isPlaying = false;
      playBtn.setAttribute('aria-pressed','false');
      pauseBtn.setAttribute('aria-pressed','true');
      setStatus('Paused');
      // remove src to stop embedded content
      iframe.src = "about:blank";
      hideOverlay();
      fallback.style.display = 'none';
      clearTimeout(loadTimer);
    }

    // Reload (re-apply src)
    function reloadFrame(){
      if(!isPlaying){
        // if paused, set src but keep state paused => we'll show overlay and set playing = true
        play();
        return;
      }
      // reload by reassigning src
      showOverlay('Reloading...');
      iframe.src = TARGET_URL;
      clearTimeout(loadTimer);
      loadTimer = setTimeout(() => {
        showOverlay('Reload took long — site might block embedding. Try open in new tab.');
        fallback.style.display = 'block';
      }, 6000);
    }

    // Event listeners
    playBtn.addEventListener('click', play);
    pauseBtn.addEventListener('click', pause);
    reloadBtn.addEventListener('click', reloadFrame);

    // If iframe loads successfully (onload fires), hide overlay and mark playing
    iframe.addEventListener('load', () => {
      // small delay so user sees the content
      clearTimeout(loadTimer);
      // A cross-origin iframe may still trigger load even if the site displays a refuse message inside the frame.
      // We just assume if load event occurred it's loaded enough.
      if(isPlaying){
        hideOverlay();
        setStatus('Playing (embedded)');
        fallback.style.display = 'none';
      } else {
        // If load occurs while we are paused (rare), keep paused state but hide overlay
        hideOverlay();
        setStatus('Paused (iframe loaded)');
      }
    });

    // initial state
    pause(); // load nothing

    // Accessibility: space/enter on play/pause
    [playBtn,pauseBtn,reloadBtn].forEach(btn=>{
      btn.addEventListener('keydown', (e)=>{
        if(e.key === "Enter" || e.key === " "){
          e.preventDefault();
          btn.click();
        }
      });
    });
  </script>
</body>
</html>
